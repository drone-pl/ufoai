// ==============================
// Reusable components for the UI
// ==============================


// Skillbars panel
component skillbars extends panel
{
	{
		pos			"740 220"
		size		"250 120"
		ghost		true
	}
	StatBarWide cls
	{
		{
			pos		"0 0"
		}
		string label
		{
			string "_CQB"
			tooltip "_Close Quarters Battle"
		}
		bar valuebar { current *cvar:mn_vcls }
		bar initbar { current *cvar:mn_vclsi }
		string valuenum { string *cvar:mn_tcls }
	}
	StatBarWide ass
	{
		{
			pos		"0 30"
		}
		string label { string "_Assault" }
		bar valuebar { current *cvar:mn_vass }
		bar initbar { current *cvar:mn_vassi }
		string valuenum { string *cvar:mn_tass }
	}
	StatBarWide snp
	{
		{
			pos		"0 60"
		}
		string label { string "_Sniper" }
		bar valuebar { current *cvar:mn_vsnp }
		bar initbar { current *cvar:mn_vsnpi }
		string valuenum { string *cvar:mn_tsnp }
	}
	StatBarWide exp
	{
		{
			pos		"0 90"
		}
		string label { string "_Explosives" }
		bar valuebar { current *cvar:mn_vexp }
		bar initbar { current *cvar:mn_vexpi }
		string valuenum { string *cvar:mn_texp }
	}
}
// Health panel
component healthbar extends panel
{
	{
		visiblewhen "*cvar:mn_show_employee <= 2"
		pos			"740 340"
		size		"250 30"
		ghost		true
	}
	StatBarWide hp
	{
		{
			pos		"0 0"
		}
		string label
		{
			string "_Health"
			tooltip "_Healthpoints"
		}
		bar valuebar { current *cvar:mn_vhp max *cvar:mn_vhpmax}
		string valuenum { string *cvar:mn_thp }
		func setColour {
			if ( ( *node:parent.valuebar@current / *node:parent.valuebar@max ) <= 0.33 ) {
				*node:parent.valuebar@color = "1 .0 .0 1"
			} elif ( ( *node:parent.valuebar@current / *node:parent.valuebar@max ) <= 0.75 ) {
				*node:parent.valuebar@color = "1 .874 .0 1"
			} else {
				*node:parent.valuebar@color = ".1875 .65625 .164 1"
			}
		}
	}
}

component SoldierInfo extends panel
{
	{
		pos		"10 253"
		size	"240 40"
	}

	smallstring missions_lbl {
		pos "0 0"
		size "180 20"
		string "_Missions Performed:"
	}
	smallstring missions_val {
		pos "160 0"
		size "80 20"
		string *cvar:mn_chrmis
		contentalign ALIGN_UR
	}

	smallstring kills_lbl {
		pos "0 20"
		size "180 20"
		string "_Enemies Killed:"
	}
	smallstring kills_val {
		pos "160 20"
		size "80 20"
		string *cvar:mn_chrkillalien
		contentalign ALIGN_UR
	}
}

// ==================
// actor info
// ==================

component actor_info extends panel
{
	{
		pos		"731 420"
		size	"290 349"
	}

	image	rank_img
	{
		src		*cvar:mn_chrrank_img
		pos			"10 25"
		size		"110 110"
	}

	model body
	{
		{
			src			*cvar:mn_body
			skin		*cvar:mn_body_skin
			anim		"stand2"
			angles		"0 70 90"
			scale		"5.1 5.1 5.1"
			pos			"60 18"
			size		"200 290"
			origin		"0 -40 0"
		}

		model head
		{
			src			*cvar:mn_head
			skin		*cvar:mn_head_skin
			tag			"tag_head"
			scale		"1.0 1.0 1.0"
		}
		model right_weapon
		{
			src			*cvar:mn_rweapon
			tag			"tag_rweapon"
		}
		model left_weapon
		{
			src			*cvar:mn_lweapon
			tag			"tag_lweapon"
		}
	}

	string rank_lbl
	{
		string		*cvar:mn_chrrank
		pos			"10 283"
		size		"200 20"
	}

	SoldierInfo soldier_info {
		{
			pos		"10 253"
			size	"285 40"
		}
	}
}

// Pilot Skills panel
component skillspilot extends panel
{
	{
		pos			"740 250"
		size		"250 155"
		ghost		true
	}
	StatBarWide pil
	{
		{
			pos		"0 0"
		}
		string label { string "_Piloting" }
		bar valuebar { current *cvar:mn_vpil }
		string valuenum { string *cvar:mn_tpil }
	}
	StatBarWide tar
	{
		{
			pos		"0 30"
		}
		string label { string "_Targeting" }
		bar valuebar { current *cvar:mn_vtar }
		string valuenum { string *cvar:mn_ttar }
	}
	StatBarWide evad
	{
		{
			pos		"0 60"
		}
		string label { string "_Evading" }
		bar valuebar { current *cvar:mn_vevad }
		string valuenum { string *cvar:mn_tevad }
	}
}
